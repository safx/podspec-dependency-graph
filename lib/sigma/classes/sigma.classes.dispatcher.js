(function(){"use strict";var t=function(){Object.defineProperty(this,"_handlers",{value:{}})};t.prototype.bind=function(t,e){var s,n,r;if(1===arguments.length&&"object"==typeof arguments[0])for(t in arguments[0])this.bind(t,arguments[0][t]);else{if(2!==arguments.length||"function"!=typeof arguments[1])throw"bind: Wrong arguments.";r="string"==typeof t?t.split(" "):t;for(s in r)n=r[s],n&&(this._handlers[n]||(this._handlers[n]=[]),this._handlers[n].push({handler:e}))}return this},t.prototype.unbind=function(t,e){var s,n,r,i,h="string"==typeof t?t.split(" "):t;if(!arguments.length){for(s in this._handlers)delete this._handlers[s];return this}if(e)for(s in h){if(i=h[s],this._handlers[i]){r=[];for(n in this._handlers[i])this._handlers[i][n].handler!==e&&r.push(this._handlers[i][n]);this._handlers[i]=r}this._handlers[i]&&0===this._handlers[i].length&&delete this._handlers[i]}else for(s in h)delete this._handlers[h[s]];return this},t.prototype.dispatchEvent=function(t,e){var s,n,r,i,h,a=this,o="string"==typeof t?t.split(" "):t;e=void 0===e?{}:e;for(s in o)if(h=o[s],this._handlers[h]){i=a.getEvent(h,e),r=[];for(n in this._handlers[h])this._handlers[h][n].handler(i),this._handlers[h][n].one||r.push(this._handlers[h][n]);this._handlers[h]=r}return this},t.prototype.getEvent=function(t,e){return{type:t,data:e||{},target:this}},t.extend=function(e,s){var n;for(n in t.prototype)t.prototype.hasOwnProperty(n)&&(e[n]=t.prototype[n]);t.apply(e,s)},"undefined"!=typeof this.sigma?(this.sigma.classes=this.sigma.classes||{},this.sigma.classes.dispatcher=t):"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=t),exports.dispatcher=t):this.dispatcher=t}).call(this);